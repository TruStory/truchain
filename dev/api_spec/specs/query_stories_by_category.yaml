meta:
  name: TruChain API
configuration:
  scheme: http
  host: localhost
  port: 1337
  base_path: /
specs:
    - name: Query stories by category
      request:
        path: /graphql
        method: post
        headers:
          - name: content-type
            value: application/json
        payload:
          body:
            type: json
            content:
              query: 'query {
                stories(categoryID: $categoryID) {
                  body
                  category {
                    creator
                  }
                }
              }'
              variables:
                categoryID: '1'
      response:
        status_code: 200
        json_data:
          - path: $.data.stories.0.body
            value: A new story!
          - path: $.data.stories.0.category.creator
            value: [34,59,176,185,162,112,137,118,206,181,122,51,95,205,2,193,216,202,251,100]